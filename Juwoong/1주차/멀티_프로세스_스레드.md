# 멀티 프로세스, 멀티 스레드

태그: CS, 운영체제

# 멀티프로세스

## 멀티 프로세스란

멀티 프로세스는 하나의 프로그램을 여러개의 프로세스로 작업하는 기술입니다.

부모 프로세스에서 자식 프로세스를 생성하는 방식으로 동작합니다.

## 장점

프로그램의 안정성을 높일 수 있습니다.

프로세스는 독립적인 메모리 공간에서 동작하기 때문에 하나의 프로세스 문제가 전체 프로그램의 문제 되지 않습니다.

멀티 코어 환경에서 작업 효율을 높일 수 있습니다.

코어 마다 프로세스를 할당하여 작업을 병렬로 처리할 수 있기 때문입니다.

## 단점

단일 코어 기준에서 컨텍스트 스위칭에 따른 오버헤드가 발생합니다.

코어 하나당 동시성을 위해 컨텍스트 스위칭을 수행하고 이 과정에서 비용이 발생합니다.

프로세스가 많아질수록 컨텍스트 스위칭이 발생할 가능성이 높아집니다.

프로세스는 독립된 자원을 사용하기 때문에 컨텍스트 스위칭 비용도 높습니다.

프로세스간 지원 공유 비용이 발생합니다.

프로세스는 독립된 메모리 공간을 가지기 때문에 자원 공유시 별도의 IPC 통신 과정을 수행해야 합니다.

메모리 사용량이 큽니다.

프로세스는 독립된 메모리 공간을 가지기 때문에 프로세스 수만큼 사용하는 메모리가 커집니다.

# 멀티스레드

## 멀티 스레드란

멀티스레드는 하나의 프로세스에서 여러개의 스레드를 만들어 작업하는 기술입니다.

따라서 하나의 프로그램을 여러개의 스레드를 통해 작업할 수 있습니다.

참고로 프로세스는 하나의 메인 스레드를 통해 실행하며, 스레드는 프로세스의 작업 실행 단위 입니다.

## 장점

멀티 코어 환경에서 싱글 스레드 보다 작업 처리가 높습니다.

코어마다 스레드를 할당해서 병렬로 작업할 수 있기 때문입니다.

병렬작업 시 멀티 프로세스 보다 메모리를 효율적으로 사용할 수 있습니다.

멀티 스레드는 프로세스의 text, data, heap 영역을 공유합니다.

하지만 멀티 프로세스는 각 영역마다 독립된 메모리 영역이 필요하기 때문입니다.

병렬 작업시 멀티 프로세스 보다 통신 비용을 줄일 수 있습니다.

멀티 스레드는 프로세스 자원을 공유하기 때문에 다른 스레드와 쉽게 통신할 수 있습니다.

하지만 멀티 프로세스는 자원을 공유하지 않아 IPC 같이 특정 작업이 필요하기 때문입니다.

병렬 작업시 멀티 프로세스 보다 속도들 향상 할 수 있습니다.

스레드의 컨텍스트 스위칭은 stack영역만 처리하기 때문에 프로세스 컨텍스트 스위칭 보다 빠르기 때문입니다.

## 단점

멀티 프로세스보다 안정성이 떨어집니다.

단일 프로세스에서 동작하기 때문에 하나의 쓰레드에서 문제 발생 시 모든 프로그램에 영향을 끼칠 수 있습니다.

공유 자원에 대한 동기화 비용이 듭니다.

관리가 안된다면 데이터 일관성 파괴 또는 데드락 같은 문제가 발생합니다.